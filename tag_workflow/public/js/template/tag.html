<!DOCTYPE html>
<html lang="en">
  <head>
    <title></title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <style>
      body {
        font-size: 14px;
      }
      .header img:nth-child(2) {
        width: 110px;
      }
      .btn-primary {
        background: #21b9e4 !important;
        text-align: left !important;
        border: 1px solid#21B9E4 !important;
        border-radius: 6px !important;
      }
      .sub-menu .tab-button {
        padding: 10px 0;
        color: #78849e;
        margin: 10px 0;
        font-size: 14px;
        cursor: pointer;
      }
      .sub-menu .tab-button a {
        color: #78849e;
        text-decoration: none;
      }
      .sub-menu .tab-button .btn-link {
        color: #78849e !important;
        font-size: 14px;
        text-decoration: none;
      }
      .sub-menu .dropdown-menu.show {
        border: none !important;
        padding-left: 50px !important;
        font-size: 14px !important;
        color: #78849e !important;
      }
      .sub-menu .dropdown-item {
        color: #78849e !important;
      }
     .sub-menu .tab-button.active {
        background: #e8f8fc;
        color: #2e3c54 !important;
      }
       .sub-menu .tab-button.active::before {
        background: #37c0e6;
        height: 40px;
        width: 4px;
        content: "";
        z-index: 99999999;
        position: absolute;
        margin-top: -10px;
       }
        .sub-menu .tab-button:hover::before {
        background: #37c0e6;
        height: 40px;
        width: 4px;
        content: "";
        z-index: 99999999;
        position: absolute;
        margin-top: -10px;
       }
      .footer-admin img {
        height: 30px;
        margin-top: 5px;
      }
      .footer-admin > div {
        height: 90px;
      }
      .sub-menu {
        height: 100%;
        position: fixed;
        top: 130px;
        width: 220px;
        background: #fff;
        max-width: 200px;
        overflow-y: auto;
        overflow-x: hidden;
        transition: 0.5s ease-in-out;
        z-index: 99;
      }
      .footer-admin .badge-danger {
        background: #f1effd !important;
        color: #7b68ee !important;
        font-size: 12px;
        font-weight: normal;
      }
      .home-tab {
        margin-top: 90px;
      }
      .home-tab .nav-tabs .nav-link.active {
        border: none;
        border-bottom: 2px solid#37C0E6;
        color: #000;
      }
      .home-tab .nav-tabs .nav-link {
        color: #78849e;
        font-size: 14px;
      }
      .home-tab .nav-tabs .nav-link .badge-danger {
        background: #fc646b !important;
        padding: 4px 7px;
        border-radius: 8px;
        margin-left: 5px;
      }
      .home-tab .dropdown .btn-link {
        color: #21b9e4 !important;
      }
      .home-tab .bg-img {
        background: url(abstract-bg.svg);
        background-repeat: no-repeat;
        background-position: right;
        background-size: contain;
      }
      .search-box {
        position: relative;
      }
      .search-box span {
        position: absolute;
        top: 6px;
        left: 10px;
      }
      .search-box input {
        max-width: 503px;
        width: 100%;
        border: 2px solid#79D5EE;
        padding-left: 30px;
        border-radius: 8px;
      }
      ::placeholder {
        color: #acbbd1;
        font-size: 14px;
      }
      .sub-menu a:hover {
        text-decoration: none;
      }
      .sub-menu .custom-btn:hover {
        text-decoration: none;
        background: #e8f8fc;
        transition: 0.2s ease-in-out;
      }
      .sub-menu .inner-menu .active a {
        font-weight: 600;
      }
      [data-route="Workspaces/Home"] .sub-menu,
      [data-route=""] .sub-menu {
        top: 61px !important;
        z-index: 9 !important;
        transition: 0.5s ease-in-out;
      }
      .toggle_icon {
        display: none;
      }
      .sub-menu .slide-text {
        display: inline-block;
        width: 80px;
      }
      .custom-slide {
            display: inline-block;
            cursor: pointer;
            margin-top: 8px;
      }

      .bar1, .bar2, .bar3 {
        width: 17px;
        height: 3px;
        background-color: #333;
        margin: 3px 0;
        transition: 0.4s;
      }

      .change .bar1 {
        -webkit-transform: rotate(-45deg) translate(-1px, 0px);
        transform: rotate(-45deg) translate(-1px, 0px);
      }

      .change .bar2 {opacity: 0;}

      .change .bar3 {
        -webkit-transform: rotate(45deg) translate(-8px, -8px);
        transform: rotate(45deg) translate(-8px, -8px);
      }

      @media (max-width: 768px) {
        .sub-menu {
          display: none;
          transition: 0.5s ease-in-out;
        }
        .layout-main-section {
          margin-left: 0rem;
        }
        .toggle_icon {
             position: fixed;
              top: 77px;
              z-index: 9999;
              left: 13px;
              font-size: 19px;
              display: block;
              transition: 0.5s ease-in-out;
        }
        .page-title .title-area .title-text {
          padding-left: 20px;
        }
        [data-route="Workspaces/Home"] .sub-menu,
        [data-route=""] .sub-menu {
          top: 130px !important;
        }
      }
    </style>
  </head>
  <body>
    <div class="container-fluid">
      <div class="row">
        <div class="col-xl-2 col-md-2 position-relative">
          <div class="row">
            <div class="toggle_icon">
              <div class="custom-slide" aria-hidden="true" onclick="myFunction(this)">
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
              </div>
            </div>
            <div class="sub-menu w-100 border-top border-right" id="myDIV">
              {% if frappe.boot.tag.tag_user_info.company_type == "Hiring" || frappe.boot.tag.tag_user_info.company_type == "Exclusive Hiring" %}

              <div class="p-md-4 mt-5 mt-md-0 px-3 pb-0 pt-2">
                <button type="button" class="btn btn-primary btn-block">
                  <span class="px-2">&#x2b;</span>New Order
                </button>
              </div>
              {% endif %}

	      {% if frappe.boot.tag.tag_user_info.company_type == "Hiring" || frappe.boot.tag.tag_user_info.company_type == "Exclusive Hiring" || frappe.boot.tag.tag_user_info.company_type == "TAG" || frappe.session.user == "Administrator" %}
		      <a href="/app/home" class="position-relative">
			      <div class="tab-button custom-btn">
				      <img src="/assets/tag_workflow/images/ico-home.svg" class="pr-3 pl-5" alt="home"/>Home
			      </div>
		      </a>
	      {% endif %}

	      {% if frappe.boot.tag.tag_user_info.company_type == "Staffing" %}
	      	<a href="/app/staff-home" class="position-relative">
			<div class="tab-button custom-btn">
				<img src="/assets/tag_workflow/images/ico-home.svg" class="pr-3 pl-5" alt="home"/>Home
			</div>
		</a>
	      {% endif %}
        
              <div class="tab-button custom-btn">
                <ul class="nav order">
                  <li>
                    <a
                      href="#"
                      id="btn-1"
                      data-toggle="collapse"
                      data-target="#submenu1"
                      aria-expanded="false"
                    >
                      <span class="pl-3 ml-3"
                        ><img
                          src="/assets/tag_workflow/images/ico-order.svg"
                          class="pr-3 pl-3"
                          alt="crm" /></span
                      > 
                      <span class="slide-text"> Orders </span>
                      <span 
                        ><i class="fa fa-angle-down" aria-hidden="true"></i
                      ></span>
                    </a>

                    <ul
                      class="inner-menu pl-5 ml-5 list-unstyled collapse"
                      id="submenu1"
                      role="menu"
                      aria-labelledby="btn-1"
                    >
                      <li class="py-2 mt-2">
                        <a href="#" onclick=job_order_page()>All</a>
                      </li>
                      {% if frappe.boot.tag.tag_user_info.company_type == "Hiring" || frappe.boot.tag.tag_user_info.company_type == "Exclusive Hiring" %}
                      <li class="py-2">
                        <a href="/app/staff_company_list">Direct Order</a>
                      </li>
                      {% endif %}

                      {% if frappe.boot.tag.tag_user_info.company_type == "Staffing" %}
                      <li class="py-2">
                        <a href="#" onclick=show_more_menu() >Direct Order</a>
                      </li>
                      
                      {% endif %}
                    </ul>
                  </li>
                </ul>
              </div>
              {% if frappe.boot.tag.tag_user_info.company_type != "Hiring" &&  frappe.boot.tag.tag_user_info.company_type != "Exclusive Hiring" %}
              <div class="tab-button custom-btn">
                <ul class="nav crm">
                  <li>
                    <a
                      href="#"
                      id="btn-1"
                      data-toggle="collapse"
                      data-target="#submenu2"
                      aria-expanded="false"
                    >
                      <span class="pl-3 ml-3"
                        ><img
                          src="/assets/tag_workflow/images/ico-crm.svg"
                          class="pr-3 pl-3"
                          alt="crm" /></span
                      >
                      <span class="slide-text">CRM </span>
                      <span
                        ><i class="fa fa-angle-down" aria-hidden="true"></i
                      ></span>
                    </a>
                    <ul
                      class="inner-menu pl-5 ml-5 list-unstyled collapse"
                      id="submenu2"
                      role="menu"
                      aria-labelledby="btn-1"
                    >
                      <li class="py-2 mt-2">
                        <a href="#" onclick=contact_page()>Contacts</a>
                      </li>
                      <li class="py-2" data="lead"><a href="#" onclick=lead_page()>Leads</a></li>
                      <li class="py-2"><a href="/app/staffing-email">Emails</a></li>
                      <li class="py-2"><a href="/app/contract">Contract</a></li>

                    </ul>
                  </li>
                </ul>
              </div>

              <div class="tab-button custom-btn">
                <ul class="nav crm">
                  <li>
                    <a href="#" id="2" data-toggle="collapse" data-target="#submenu3" aria-expanded="false">
                      <span class="pl-3 ml-3"><img src="/assets/tag_workflow/images/ico-ats.svg" class="pr-3 pl-3"
                          alt="crm" /></span>
                      <span class="slide-text">ATS </span>
                      <span><i class="fa fa-angle-down" aria-hidden="true"></i></span>
                    </a>
                    <ul class="inner-menu pl-5 ml-5 list-unstyled collapse" id="submenu3" role="menu" aria-labelledby="btn-2">
                      <li class="py-2 mt-1"><a href="/app/employee-onboarding">Onboarding</a></li>
                      <li class="py-2"><a href="/app/employee-onboarding-template">Set Up</a></li>
                    </ul>
                  </li>
                </ul>
              </div>

              <a href="#" onclick=employee_page()>
                <div class="tab-button custom-btn">
                  <img
                    src="/assets/tag_workflow/images/ico-employee.svg"
                    class="pr-3 pl-5"
                    alt="employee"
                  />Employees
                </div>
              </a>
              {% endif %}
              
              <a href="/app/reports">
                <div class="tab-button custom-btn">
                  <img
                    src="/assets/tag_workflow/images/ico-invoice.svg"
                    class="pr-3 pl-5"
                    alt="reports"
                  />Reports
                </div>
              </a>

              <a href="/app/sales-invoice">
                <div class="tab-button custom-btn">
                  <img
                    src="/assets/tag_workflow/images/ico-invoices.svg"
                    class="pr-3 pl-5"
                    alt="invoice"
                  />Invoices
                </div>
              </a>

              <!-- user info -->
              <div class="row footer-admin border-top pl-4 py-4">
                <div class="d-flex">
                  <div>
                    <img
                      src="/assets/tag_workflow/images/ico-maps.jpeg"
                      class="img-fluid px-3"
                      alt="user-image"
                    />
                  </div>
                  <div class="pr-3">
                    <h5 class="mb-0">
                      <strong>{{frappe.session.user_fullname}}</strong>
                    </h5>
                    <span class="badge badge-danger">
                      {% if frappe.session.user_fullname == "Administrator" %}
                      {{ __("Master Admin") }} {% else %} {{
                      frappe.boot.tag.tag_user_info.user_type }} {% endif %}
                    </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
      function myFunction(x) {
        x.classList.toggle("change");
      }
    </script>
  </body>
</html>

<script>
  $(".btn.btn-primary.btn-block").click(function () {
    let order = frappe.model.get_new_doc("Job Order");
    frappe.set_route("form", order.doctype, order.name);
  });

  $(".sub-menu .custom-btn").on("click", function () {
    $(".sub-menu .custom-btn").removeClass("active");
    $(this).addClass("active");
  });

  $(document).ready(function () {
    $(".toggle_icon").click(function () {
      $(".sub-menu").toggle();
    });
  });

  $(".order li ul li").on("click", function () {
    $(".order li ul li").removeClass("active");
    $(this).addClass("active");
  });

  $(".crm li ul li").on("click", function () {
    $(".crm li ul li").removeClass("active");
    $(this).addClass("active");
  });

  function show_more_menu() {
    location.href = "/app/job-order?data=direct";
  }

  function job_order_page() {
    location.href = "/app/job-order";
  }
  function lead_page() {
    location.href = "/app/lead";
  }
  function employee_page() {
    location.href = "/app/employee";
  }
  function contact_page() {
    location.href = "/app/contact";
  }
</script>

<script>
	window["_fs_debug"] = false;
	window["_fs_host"] = "fullstory.com";
	window["_fs_script"] = "edge.fullstory.com/s/fs.js";
	window["_fs_org"] = frappe.boot.tag.tag_user_info.org;
	window["_fs_namespace"] = "FS";
	(function(m,n,e,t,l,o,g,y){
		if (e in m) {if(m.console && m.console.log) { m.console.log(`FullStory namespace conflict. Please set window["_fs_namespace"].`);} return;}
		g=m[e]=function(a,b,s){g.q?g.q.push([a,b,s]):g._api(a,b,s);};g.q=[];
		o=n.createElement(t);o.async=1;o.crossOrigin="anonymous";o.src="https://"+_fs_script;
		y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
		g.identify=function(i,v,s){g(l,{uid:i},s);if(v)g(l,v,s)};g.setUserVars=function(v,s){g(l,v,s)};g.event=function(i,v,s){g("event",{n:i,p:v},s)};
		g.anonymize=function(){g.identify(!!0)};
		g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
		g.log = function(a,b){g("log",[a,b])};
		g.consent=function(a){g("consent",!arguments.length||a)};
		g.identifyAccount=function(i,v){o="account";v=v||{};v.acctId=i;g(o,v)};
		g.clearUserCookie=function(){};
		g.setVars=function(n, p){g("setVars",[n,p]);};
		g._w={};y="XMLHttpRequest";g._w[y]=m[y];y="fetch";g._w[y]=m[y];
		if(m[y])m[y]=function(){return g._w[y].apply(this,arguments)};
		g._v="1.3.0";
	})(window,document,window["_fs_namespace"],"script","user");
</script>
