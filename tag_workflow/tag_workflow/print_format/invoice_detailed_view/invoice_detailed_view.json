{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2022-11-25 14:10:04.253654",
 "css": ".job-title {\n    padding-right:10px;\n}\n.due-payment {\n        border: 1px solid #dee2e6;\n    padding: 5px 15px;\n    font-size: 16px!important;\n    margin-top: -35px!important;\n    margin-bottom: 30px!important;\n}\n.due-payment label{\n    font-size:15px;\n}\n.description label {\n        color: #1f272d!important;\n}\n.description {\n        color: #6c757d!important;\n}\n.comments {\n    width:46%; \n    text-align: justify;\n}\n.comments p {\n    color: #6c757d!important;\n    font-size:13px!important;\n}\n.main-invoice-sec {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n        margin-bottom: 15px;\n}\n.main-invoice-sec .right-section .invoice-name {\n    font-weight:500;\n}\n.main-invoice-sec .right-section .due-payment{\n    margin: 30px 0;\n    font-size: 16px;\n}\n.main-invoice-sec .right-section .due-payment label{\n   color: #8D9CBC;\n    font-weight: normal;\n}\n.main-invoice-sec .payment-list {\n        font-size: 13px;\n    text-align: left;\n}\n.main-invoice-sec .payment-list tr td {\n      padding: 3px 6px 3px 0 !important;\n}\n.main-invoice-sec .payment-list tr td label {\n      color: #8D9CBC;\n    font-weight: normal;\n}\n.main-invoice-sec .table-list tbody tr th {\n    font-weight:500 !important;\n}\ntable{\n    text-align:center;\n}\nth{\n    text-align:center;\n}\n.main-invoice-sec p {\n    color:#2A2E43;\n    font-size:14px;\n}\n\n.table>tbody>tr>th {\n  font-weight: 500 !important;\n    padding: 12px !important;\n    text-align: left;\n}\n.table>tbody>tr>td {\n    text-align:left !important;\n    padding: 12px !important;\n}\n\n.footer-detail table {\n    float:right;\n    display: flex;\n    font-size: 14px;\n}\n.footer-detail table tbody {\n    background: #ECECF1;\n}\n.footer-total {\n    display: flex;\n    float:right;\n    padding-top: 10px;\n}\n.footer-total h4{\n    font-weight: 400;\n    padding-right: 20px;\n}\n.main-invoice-sec .left-section .custome_name {\n    margin-top:20px;    \n}\n.left-section {\n    width: 26%;\n    float: left;\n}\n.mid-section {\n    width: 36%;\n    float: left;\n    margin-top: 55px;\n}\n.inner-sec {\n    padding: 5px 12px;\n    min-height: 173px;\n    overflow: hidden;\n    max-height: 173px;\n}\n.inner-sec p {\n    color :#6c757d;\n}\n.center-tittle {\n    color: #2A2E43 !important;\n}\n.right-section {\n    width: 30%;\n    float: left;\n}\n.table-responsive {\n    width: 100%;\n    margin-bottom: 15px;\n    overflow-y: hidden;\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n    border: none !important;\n}\n.custom-comment {\n    height: 75px;\n    overflow: hidden;\n}\n.due-payment-tag{\n    border: 1px solid #dee2e6;\n    padding: 5px 15px;\n    font-size: 16px!important;\n    margin-bottom: 25px!important;\n    margin-top: 25px!important;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Sales Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font": "Default",
 "format_data": "[{\"fieldname\": \"print_heading_template\", \"fieldtype\": \"Custom HTML\", \"options\": \"<div class=\\\"print-heading\\\">\\t\\t\\t\\t<h2><div>Invoice</div><br><small class=\\\"sub-heading\\\">{{ doc.name }}</small>\\t\\t\\t\\t</h2>\\n<h3>dbhcjsjvbhj</h3>\\n\\n{{doc.timesheets}}jbhxbhbh</div>\\n\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"job_order\", \"print_hide\": 0, \"label\": \"Job Order\"}, {\"fieldname\": \"posting_date\", \"print_hide\": 0, \"label\": \"Date\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Section Break\", \"label\": \"\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldtype\": \"Column Break\"}, {\"fieldname\": \"grand_total\", \"print_hide\": 0, \"label\": \"Grand Total\"}]",
 "html": "<div class=\"main-invoice-sec d-flex\">\n  <div>\n    <img class=\"app-logo\" src=\"/assets/tag_workflow/images/TAG-Logo.png\" />\n  </div>\n  <div>\n    <p>{{frappe.format_date(doc.posting_date)}}</p>\n  </div>\n</div>\n<h1>Invoice</h1>\n<div class=\"main-invoice-sec\">\n  <div>\n    <p class=\"invoice-name\">{{doc.name}}</p>\n  </div>\n  <div>\n    <p class=\"due-payment\">\n      <label> Payment Due </label> {{\"$%.2f\"|format(doc.total_billing_amount)}}\n    </p>\n  </div>\n</div>\n\n<div class=\"main-invoice-sec\">\n  <div class=\"d-flex main-invoice-sec\">\n    <div class=\"comments\">\n      <div class=\"d-flex main-invoice-sec\">\n        <div class=\"description\">\n          <label> Job Order ID </label>\n          {{doc.job_order}}\n        </div>\n        <div class=\"job-title description\">\n          <label> Date </label>\n          {{frappe.format_date(doc.posting_date)}}\n        </div>\n      </div>\n    </div>\n    <div class=\"comments\">\n      <div class=\"d-flex main-invoice-sec\">\n        <div class=\"description\">\n          <label> Due Date </label>\n          {{frappe.format_date(doc.due_date)}}\n        </div>\n        <div class=\"job-title description\">\n          <label> Job Title </label>\n          {{doc.timesheets[0].activity_type}}\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div class=\"main-invoice-sec\">\n  <div class=\"d-flex main-invoice-sec\">\n    <div class=\"comments\">\n      <h5>Staffing Address</h5>\n      <p class=\"invoice-name\">{{doc.company}}</p>\n      {% if doc.creater_company %}\n\t     <p class=\"invoice-name\">{{doc.creater_company}}</p>\n\t  {% endif %}\n\t  {% if doc.creater_city %}\n\t     <p class=\"invoice-name\">{{doc.creater_city}}</p>\n\t  {% endif %}\n\t  {% if doc.creater_state %}\n\t     <p class=\"invoice-name\">{{doc.creater_state}}</p>\n\t  {% endif %}\n\t  {% if doc.creater_zip %}\n\t     <p class=\"invoice-name\">{{doc.creater_zip}}</p>\n\t  {%endif%}\n    </div>\n    <div class=\"comments\">\n      <h5>Hiring Address</h5>\n       {% if doc.customer%}\n\t      <p class=\"invoice-name\">{{doc.customer}}</p>\n\t   {% endif%}\n\t   {% if doc.for_company%}\n\t      <p class=\"invoice-name\">{{doc.for_company}}</p>\n\t   {% endif %}\n\t   {% if doc.for_company_city%}\n\t      <p class=\"invoice-name\">{{doc.for_company_city}}</p>\n\t   {% endif %}\n\t   {% if doc.for_company_state%}\n\t      <p class=\"invoice-name\">{{doc.for_company_state}}</p>\n\t   {% endif %}\n\t   {% if doc.for_company_state %}\n\t      <p class=\"invoice-name\">{{doc.for_company_state}}</p>\n\t   {% endif %}\n    </div>\n  </div>\n</div>\n\n<div class=\"main-invoice-sec\">\n  <div class=\"d-flex main-invoice-sec\">\n    <div class=\"comments\">\n      {% if doc.invoice_comments and doc.invoice_comments.strip()%}\n        <h5>Staffing Comments</h5>\n        <p class=\"custom-comment\">{{doc.invoice_comments}}</p>\n      {% endif %}\n    </div>\n    <div class=\"comments\">\n      {% set hiring_comment = frappe.db.get_value('Assign Employee', {'job_order': doc.job_order , 'tag_status': 'Approved', 'company': doc.company}, ['notes']) %}\n      {% if hiring_comment and hiring_comment.strip() %}\n        <h5>Hiring Comments</h5>\n        <p class=\"custom-comment\">{{hiring_comment}}</p>\n      {% endif %}\n    </div>\n  </div>\n</div>\n\n<div class=\"table-responsive\">\n  <table class=\"table table-list sortable\">\n    <tbody>\n      <tr>\n        <th>Sr</th>\n        <th>Employee Name</th>\n        <th>Date of Timesheet</th>\n        <th>Pay Type</th>\n        <th>Hourly Rate</th>\n        <th>Hours</th>\n        <th>Total Amount</th>\n        <th>Status</th>\n      </tr>\n      {%- set row_no = namespace(row = 1) -%}\n      {%- set ts_list = doc.timesheet_used.replace(\"'\", \"\").strip('][').split(', ') -%}\n      {%- set final_list = frappe.db.get_all('Timesheet',filters={'name':['in',ts_list]},fields=['*'],order_by='employee_name,date_of_timesheet') -%}\n      {%- for ts_data in final_list -%}\n          {%- set status = [] -%}\n          {%- if ts_data.no_show -%}{{ status.append('No Show') or '' }}{%- endif -%}\n          {%- if ts_data.non_satisfactory -%}{{ status.append('Non Satisfactory') or '' }}{%- endif -%}\n          {%- if ts_data.dnr -%}{{ status.append('DNR') or '' }}{%- endif -%}\n          {%- if ts_data.replaced -%}{{ status.append('Replaced') or '' }}{%- endif -%}\n          {%- if ts_data.todays_overtime_hours==0-%}\n            {%- set regular_pay= ts_data.timesheet_billable_amount -%}\n            {%- set regular_hours=ts_data.total_hours -%}\n            {%- set ot_pay=0 -%}\n            {%- set ot_hours=0 -%}\n          {%- else -%}\n            {%- if ts_data.timesheet_billable_amount==ts_data.timesheet_billable_overtime_amount -%}\n                {%- set regular_pay=0 -%}\n                {%- set regular_hours=0 -%}\n                {%- set ot_pay=ts_data.timesheet_billable_overtime_amount -%}\n                {%- set ot_hours=ts_data.todays_overtime_hours -%}\n            {%- else -%}\n                {%- set regular_pay=ts_data.timesheet_billable_amount-ts_data.timesheet_billable_overtime_amount -%}\n                {%- set regular_hours=ts_data.total_hours-ts_data.todays_overtime_hours -%}\n                {%- set ot_pay= ts_data.timesheet_billable_overtime_amount-%}\n                {%- set ot_hours=ts_data.todays_overtime_hours -%}\n            {%- endif -%}\n          \n          {%- endif -%}\n          \n          {%- if regular_pay>0 -%}\n              <tr>\n                <td style=\"width: 3%\">{{ row_no.row }}</td>\n                <td style=\"width: 20%\">{{ ts_data.employee_name }}</td>\n                <td style=\"width: 20%\">{{ ts_data.date_of_timesheet.strftime('%m-%d-%Y') }}</td>\n                <td style=\"width: 20%\">Regular</td>\n                <td style=\"width: 20%\">{{ \"$%.2f\"|format(ts_data.per_hour_rate+ts_data.flat_rate) }}</td>\n                <td style=\"width: 20%\">{{ \"%.2f\"|format(regular_hours) }}h</td>\n                <td style=\"width: 20%\">{{ \"$%.2f\"|format(regular_pay) }}</td>\n                <td style=\"width: 20%\">{{ status|join(', ') }}</td>\n              </tr>\n              {% set row_no.row = row_no.row + 1 %}\n          {%- endif -%}\n          {%- if ot_pay>0 -%}\n              <tr>\n                <td style=\"width: 3%\">{{ row_no.row }}</td>\n                <td style=\"width: 20%\">{{ ts_data.employee_name }}</td>\n                <td style=\"width: 20%\">{{ ts_data.date_of_timesheet.strftime('%m-%d-%Y') }}</td>\n                <td style=\"width: 20%\">Overtime</td>\n                <td style=\"width: 20%\">{{ \"$%.2f\"|format(ts_data.per_hour_rate+ts_data.flat_rate) }}</td>\n                <td style=\"width: 20%\">{{ \"%.2f\"|format(ot_hours) }}h</td>\n                <td style=\"width: 20%\">{{ \"$%.2f\"|format(ot_pay) }}</td>\n                <td style=\"width: 20%\">{{ status|join(', ') }}</td>\n              </tr>\n              {% set row_no.row = row_no.row + 1 %}\n          {%- endif -%}\n      {%- endfor -%}\n    </tbody>\n  </table>\n</div>\n<div class=\"footer-detail\">\n  <table>\n    <tr></tr>\n    <tr></tr>\n  </table>\n  <div class=\"footer-total\">\n    <h4>Total:</h4>\n    <h4>{{\"$%.2f\"|format(doc.total_billing_amount) }}</h4>\n  </div>\n</div>\n",
 "idx": 0,
 "line_breaks": 0,
 "modified": "2022-12-13 01:48:05.681195",
 "modified_by": "Administrator",
 "module": "Tag Workflow",
 "name": "Invoice Detailed View",
 "owner": "Administrator",
 "print_format_builder": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}